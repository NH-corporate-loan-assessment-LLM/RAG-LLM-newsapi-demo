# 기업대출심사 RAG 시스템

## 프로젝트 개요

본 프로젝트는 RAG(Retrieval-Augmented Generation) 기술을 활용하여 뉴스 기사를 분석하고 대출 심사를 위한 머신러닝 특성을 자동으로 추출하는 기업대출심사 시스템을 구현합니다. 이 시스템은 신뢰할 수 있는 뉴스 소스로부터 정책 변화와 시장 동향을 자동으로 수집하고 해석하여 기업의 잠재적 수익성과 성장 가능성을 평가합니다.

## 문제 정의

기존의 기업대출심사는 주로 과거 재무 데이터와 시장 상황의 수동적 분석에 의존하고 있습니다. 이러한 접근 방식은 실시간 시장 역학, 정책 변화, 신흥 트렌드를 포착하는 데 한계가 있으며, 이러한 요소들이 기업의 신용도에 미치는 상당한 영향을 놓칠 수 있습니다. 본 시스템은 이러한 격차를 해결하기 위해 뉴스 기사의 자동화된 실시간 분석을 통해 대출심사를 위한 실행 가능한 인사이트를 제공합니다.

## 솔루션 아키텍처

### 핵심 구성요소

1. **뉴스 수집 모듈**
   - NewsAPI와 연동하여 신뢰할 수 있는 비즈니스 뉴스 수집
   - 다수의 고신뢰도 소스 지원 (로이터, 블룸버그, 월스트리트저널 등)
   - 기업 프로필과 수출 시장을 기반으로 한 지능형 검색 쿼리 구현

2. **RAG 파이프라인**
   - 최적의 정보 처리를 위한 텍스트 청킹
   - OpenRouter의 text-embedding-3-large 모델을 활용한 벡터 임베딩
   - 효율적인 유사도 검색을 위한 FAISS 기반 벡터 스토어
   - 관련 뉴스 기사의 맥락 인식 검색

3. **LLM 분석 엔진**
   - 비용 효율적인 분석을 위해 OpenRouter를 통한 GPT-4o-mini 활용
   - 대출심사를 위한 10개의 표준화된 ML 특성 생성
   - 비즈니스 운영에 미치는 뉴스 영향의 맥락적 해석 제공

4. **특성 추출 시스템**
   - 정성적 뉴스 분석을 정량적 ML 특성으로 변환
   - 모델 호환성을 위한 0-1 스케일 특성 정규화
   - 포괄적 평가를 위한 다중 기사 분석 집계

### 기술 구현

**기술 스택:**
- Python 3.12
- 웹 인터페이스를 위한 Streamlit
- LLM 및 임베딩을 위한 OpenAI API (OpenRouter 경유)
- 뉴스 수집을 위한 NewsAPI
- 벡터 유사도 검색을 위한 FAISS
- 웹 스크래핑 기능을 위한 BeautifulSoup

**주요 기능:**
- 실시간 뉴스 분석
- 다중 소스 신뢰도 검증
- 자동화된 ML 특성 생성
- 대화형 웹 인터페이스
- 확장 가능한 벡터 스토리지 시스템

## 사용 사례 예시

**시나리오:** 미국 시장에 반도체를 수출하는 한국 반도체 기업이 기업대출을 신청하는 상황

**시스템 프로세스:**
1. 기업 프로필 입력: "반도체, 미국 시장"
2. 관련 뉴스 검색: "반도체 한국 미국 관세 정책"
3. 미-한 무역관계, 반도체 정책 관련 기사 수집
4. LLM이 각 기사의 비즈니스 영향 분석
5. ML 특성 생성: 시장 기회, 규제 리스크, 경쟁 압박 등
6. 집계된 분석을 바탕으로 대출 권고사항 제공

**출력:** 기존 ML 대출심사 모델에 직접 통합 가능한 정량적 특성

## 시스템 기능

### 뉴스 분석 기능
- 정책 변화 탐지 및 영향 평가
- 시장 동향 분석 및 예측
- 경쟁 환경 평가
- 규제 준수 모니터링
- 경제 지표 상관관계 분석

### ML 특성 생성
1. 시장 기회 점수 (0-1)
2. 규제 리스크 점수 (0-1)
3. 경쟁 압박 점수 (0-1)
4. 수출 시장 건강도 (0-1)
5. 정책 지원 점수 (0-1)
6. 전체 사업 전망 (0-1)
7. 매출 영향 잠재력 (0-1)
8. 비용 영향 잠재력 (0-1)
9. 시장점유율 영향 (0-1)
10. 혁신 기회 (0-1)

### 통합 기능
- 시스템 통합을 위한 RESTful API 엔드포인트
- 표준화된 JSON 출력 형식
- 실시간 처리 기능
- 배치 처리 지원
- 구성 가능한 분석 매개변수

## 기술 사양

### 성능 지표
- 처리 시간: 기업당 30초 미만
- 뉴스 커버리지: 50개 이상의 신뢰할 수 있는 소스
- 분석 정확도: 맥락 인식 LLM 해석
- 확장성: 벡터 기반 유사도 검색

### 데이터 소스
- 프리미엄 소스와의 NewsAPI 통합
- 실시간 뉴스 업데이트
- 과거 데이터 접근 (API 제한 내)
- 다국어 지원 기능

### 보안 및 규정 준수
- 환경 변수를 통한 API 키 관리
- 민감한 데이터 저장 없음
- GDPR 준수 데이터 처리
- 안전한 벡터 스토리지 구현

## 설치 및 설정

### 사전 요구사항
- Python 3.12 이상
- NewsAPI 계정 및 API 키
- OpenRouter 계정 및 API 키

### 설치 단계

1. 저장소 클론:
```bash
git clone https://github.com/NH-corporate-loan-assessment-LLM/RAG-LLM-newsapi-demo.git
cd RAG-LLM-newsapi-demo
```

2. 의존성 설치:
```bash
pip install -r requirements.txt
```

3. 환경 변수 설정:
```bash
# .env 파일 생성
OPENROUTER_API_KEY=your_openrouter_api_key
NEWSAPI_KEY=your_newsapi_key
```

4. 애플리케이션 실행:
```bash
streamlit run streamlit_app.py
```

## 사용 방법

### 웹 인터페이스
1. http://localhost:8501에서 Streamlit 애플리케이션 접속
2. 기업 정보 입력:
   - 기업명
   - 업종/섹터
   - 주요 제품/서비스
   - 수출 시장/지역
3. 분석 매개변수 구성:
   - 뉴스 검색 기간
   - 분석 깊이 설정
4. 결과 검토:
   - 대출 모델 통합을 위한 ML 특성
   - 영향 분석이 포함된 소스 기사
   - 대출 권고사항 요약

### API 통합
제공된 Python 모듈을 통해 기존 대출심사 워크플로우에 시스템을 통합할 수 있습니다:

```python
from src.rag.pipeline import CorporateRagPipeline
from src.company.profile import CompanyProfile

# 시스템 초기화
pipeline = CorporateRagPipeline(api_key, index_dir, settings)

# 기업 프로필 생성
company = CompanyProfile(
    name="기업명",
    industry="반도체",
    products_services=["메모리 칩", "프로세서"],
    target_markets=["미국", "중국"]
)

# 분석 및 ML 특성 획득
result = pipeline.analyze_company_impact(company)
ml_features = result["ml_features"]
```

## 비즈니스 임팩트

### 금융기관을 위한 가치
- 실시간 시장 분석을 통한 대출심사 정확도 향상
- 수동 연구 시간 및 비용 절감
- 리스크 관리 역량 개선
- ML 모델을 위한 표준화된 특성 추출

### 기업 고객을 위한 가치
- 투명한 대출심사 프로세스
- 실시간 시장 영향 가시성
- 데이터 기반 의사결정 지원
- 시장 인텔리전스를 통한 경쟁 우위

## 향후 개선 계획

### 계획된 기능
- 다국어 뉴스 분석 지원
- 고급 감정 분석 알고리즘
- 추가 데이터 소스 통합
- 중요한 시장 변화에 대한 실시간 알림 시스템
- 사용자 정의 가능한 ML 특성 정의

### 확장성 개선
- 분산 처리 기능
- 향상된 벡터 스토리지 최적화
- API 속도 제한 및 캐싱
- 다중 기업 배치 처리

## 기술 문서

### 아키텍처 다이어그램
- 시스템 구성요소 상호작용 플로우
- 데이터 처리 파이프라인
- API 통합 패턴
- 벡터 스토리지 스키마

### 코드 문서
- 포괄적인 인라인 문서
- API 참조 가이드
- 구성 옵션
- 문제 해결 가이드

## 결론

본 RAG 기반 기업대출심사 시스템은 자동화된 금융 분석 분야에서 새로운 인사이트를 제시합니다. 모듈화된 아키텍처는 기존 시스템과의 쉬운 통합을 보장하면서도 높은 성능과 정확도 표준을 유지합니다.

이 시스템은 금융 서비스에서 RAG 기술의 실용적 적용을 보여주며, 더 나은 의사결정을 위해 AI를 활용하려는 금융기관을 위한 확장 가능한 솔루션으로 자리매김하고 있습니다. 지속적인 개선과 기능 향상을 통해, 이 시스템은 현대적인 대출심사 과제에 대한 가치 있는 도구로 발전할 것입니다.
